
<script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>

<div class="gutter">
  <div>
    <h2 class="nw_heading">{{ section.settings.heading }}</h2>
    <div class="product_gallary_wrapper">
      {% for block in section.blocks %}
        {% assign product = block.settings.g_product %}
        <div class="rel product_image_box">
          <img src="   {{ product.featured_image | image_url  }}" alt="{{ product.title }}" height="auto">
          <open-overlay
            class="plus_icon"
            style="position:absolute;top:{{ block.settings.top_location }}%;left:{{ block.settings.left_location }}%;cursor:pointer;"
            data-productid = "{{ product.id }}"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 30 30" fill="none">
              <g filter="url(#filter0_d_3_2760)">
              <circle cx="15" cy="12" r="11" fill="#F8F8F8" fill-opacity="0.9"/>
              <path d="M15.3457 8.04175V16.5033" stroke="black" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
              <path d="M11.1152 12.2725H19.5768" stroke="black" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
              </g>
              <defs>
              <filter id="filter0_d_3_2760" x="0" y="0" width="30" height="30" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
              <feOffset dy="3"/>
              <feGaussianBlur stdDeviation="2"/>
              <feComposite in2="hardAlpha" operator="out"/>
              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_3_2760"/>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_3_2760" result="shape"/>
              </filter>
              </defs>
            </svg>
          </open-overlay>
        </div>
      {% render 'product-overlay', product: product %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "New product gallary",
  "settings": [
    {
      "type": "text",
      "id":"heading",
      "label": "Heading",
      "default":"Tisso vison in the wild"
    }
  ],
  "blocks": [
    {
      "type": "product_gallary",
      "name":"Product",
      "limit": 6,
      "settings": [
        {
          "type": "product",
          "id": "g_product",
          "label": "Choose product"
        },
        {
          "type": "header",
          "content": "Icon location in %"
        },
        {
          "type": "range",
          "id": "top_location",
          "label": "Location from top",
          "min": 20,
          "max": 90,
          "step": 1,
          "unit": "%",
          "default":50
        },
        {
          "type": "range",
          "id": "left_location",
          "label": "Location from left",
          "min": 20,
          "max": 90,
          "step": 1,
          "unit": "%",
          "default":50
        }
      ]

    }
  ],
  "presets": [{
    "name":"New product gallary"
  }]
}
{% endschema %}
